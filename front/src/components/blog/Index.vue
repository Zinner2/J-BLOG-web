<template>
  <el-container class="bodyCss" style="border: 1px solid rgb(255, 255, 255);">
    <el-aside width="75%" style="background-color: rgb(255, 255, 255);">

      <el-row v-for="blogInfo in blogInfoList" v-if="blogInfoList.length !== 0">
        <el-row>
          <el-col :span="1" :offset="3">
            <el-avatar sha pe="square" :src="imageUrl" fit="cover"></el-avatar>
          </el-col>
          <el-col :span="5" :offset="1">
            <div class="grid-content bg-purple">
              任人子 in
              <el-link @click="searchByCategory(blogInfo.blogCategoryName)">
                {{ blogInfo.blogCategoryName }}
                <el-image
                    style="width: 15px; height: 15px"
                    :src="blogInfo.categoryIcon"
                    fit="fill">
                </el-image>
              </el-link>
            </div>
          </el-col>
          <el-col :span="8" :offset="6">
            <div class="grid-content bg-purple">
              {{ blogInfo.createTime | moment }}
            </div>
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="12" :offset="3">
            <div class="grid-content bg-purple">
              <el-link @click="checkBlog(blogInfo.blogId)" style="font-size: 20px;">
                {{ blogInfo.blogTitle }}
              </el-link>
            </div>
          </el-col>
          <el-col :span="3" :offset="1">
            <i class="el-icon-view">{{ blogInfo.blogViews }}</i> 浏览量
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="12" :offset="3">
            <div class="grid-content bg-purple">
              {{ blogInfo.blogPreface }}
            </div>
          </el-col>
          <el-col :span="3" :offset="1">
            <svg t="1649343941014" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="2695" width="16" height="16">
              <path
                  d="M939.358251 423.424662c-23.01825-37.252439-62.924121-60.779272-107.019409-63.209624-2.755764-0.38681-5.510504-0.579191-8.347109-0.579191l-152.202471-0.121773c6.649444-28.975938 10.015098-58.653865 10.015098-88.657202 0-28.223808-3.213181-57.139372-9.556657-85.952604-0.447185-2.043542-1.098008-4.006244-1.932002-5.866614-15.820314-57.302077-67.37755-96.841605-127.282918-96.841605-72.827679 0-132.081201 59.254545-132.081201 132.081201 0 3.334955 0.132006 6.66991 0.406253 10.015098-2.196015 57.211003-32.108279 109.947088-80.269162 141.363611-14.447037 9.42465-18.524912 28.773324-9.099239 43.220361 9.414417 14.437827 28.752858 18.535145 43.220361 9.099239 65.811892-42.925648 106.429984-115.325585 108.656699-193.684234 0.030699-1.332345-0.010233-2.663666-0.14224-3.996011-0.203638-2.012843-0.304945-4.016477-0.304945-6.019087 0-38.381146 31.233352-69.614497 69.614497-69.614497 32.57593 0 60.474326 22.204721 67.824735 53.997821 0.356111 1.534959 0.823761 3.019777 1.402953 4.453429 4.696975 22.814612 7.076162 45.579081 7.076162 67.743894 0 37.485753-6.222725 74.352405-18.494213 109.592001-3.324722 9.546424-1.819438 20.111037 4.02671 28.345582 5.856381 8.245801 15.332197 13.146415 25.448602 13.156648l193.226816 0.101307c1.423419 0.264013 2.857071 0.426719 4.300956 0.477884 24.116257 0.9967 45.935192 13.614066 58.603723 34.090423 7.838525 12.31242 11.438517 26.800389 10.431583 41.939181-0.080841 0.945535-0.121773 1.911536-0.11154 2.877537 0 0.854461 0.040932 1.697665 0.11154 2.53166 0.010233 0.335644-0.030699 0.661056-0.11154 0.976234-0.101307 0.376577-0.193405 0.772596-0.284479 1.159406l-74.972529 330.391802c-0.914836 1.281179-1.738597 2.6432-2.449795 4.046153-5.937223 11.762905-14.660908 21.48329-25.346271 28.172643-10.746762 6.812149-23.059182 10.614755-35.757388 11.06194-0.854461-0.061398-513.766226-0.224104-513.766226-0.224104-0.467651-0.020466-0.935302-0.030699-1.402953-0.030699 0 0-111.01542 0.172939-112.718201 0.457418-1.932002 0-3.446495-1.50426-3.446495-3.415796l0.299829-416.334173c0-1.901303 1.545192-3.446495 3.01466-3.456728l1.245364 0.121773c1.174756 0.132006 2.653433 0.284479 3.52836 0.193405l83.82822-0.222057 0 339.367221c0 17.253966 13.979386 31.233352 31.233352 31.233352s31.233352-13.979386 31.233352-31.233352L281.009092 435.350273c0-1.778506 0-8.631588 0-10.411117 0-17.253966-13.979386-30.928407-31.233352-30.928407-1.50426 0-117.547183 0.304945-119.402437 0.304945-36.34272 0-65.913199 29.566386-65.913199 65.893756l-0.299829 416.334173c0 36.337603 29.571503 65.902966 65.913199 65.902966 2.541893 0 111.406323-0.457418 111.406323-0.457418 0.457418 0.020466 0.925069 0.030699 1.382487 0.030699 0 0 511.458671 0.274246 512.505513 0.274246 25.469068 0 50.296523-7.197936 71.647807-20.73116 19.612687-12.281721 35.777855-29.881564 46.839795-50.967812 3.660366-5.622044 6.435573-11.875468 8.256034-18.615986 0.11154-0.416486 0.213871-0.823761 0.304945-1.240247l74.881454-330.340637c1.596358-6.212492 2.257413-12.586666 2.00261-18.992563C960.892707 473.366098 953.948551 446.331371 939.358251 423.424662z"
                  p-id="2696"></path>
              <path
                  d="M450.027553 518.650467c-17.253966 0-31.233352 13.979386-31.233352 31.233352l0 30.470989c0 17.253966 13.979386 31.233352 31.233352 31.233352 17.253966 0 31.233352-13.979386 31.233352-31.233352l0-30.470989C481.260905 532.629853 467.281519 518.650467 450.027553 518.650467z"
                  p-id="2697"></path>
              <path
                  d="M693.805696 518.650467c-17.253966 0-31.233352 13.979386-31.233352 31.233352l0 30.470989c0 17.253966 13.979386 31.233352 31.233352 31.233352 17.253966 0 31.233352-13.979386 31.233352-31.233352l0-30.470989C725.039048 532.629853 711.058638 518.650467 693.805696 518.650467z"
                  p-id="2698"></path>
              <path
                  d="M648.940882 660.09492c-14.304797-9.393951-33.592073-5.398964-43.159986 8.763594-0.132006 0.193405-13.614066 19.754926-34.171264 19.754926-19.98824 0-32.423457-18.09717-33.266661-19.368116-9.17087-14.427594-28.254507-18.809391-42.834574-9.770528-14.650675 9.109472-19.155269 28.366048-10.055007 43.016723 11.214413 18.047028 41.96988 48.588625 86.156242 48.588625 43.962258 0 75.104535-30.318516 86.572728-48.222281C667.404396 688.461991 663.216004 669.500127 648.940882 660.09492z"
                  p-id="2699"></path>
            </svg>
            {{ blogInfo.blogLikes }}
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="15" :offset="3">
            <el-divider></el-divider>
          </el-col>
        </el-row>
      </el-row>

      <!--         分页  -->
      <el-row>
        <el-row>
          <el-col :span="16" :offset="3">
            <div class="grid-content bg-purple">
              <el-pagination
                  background layout="total,sizes, prev, pager, next, jumper"
                  :total="totalSize"
                  @size-change="handleSizeChange"
                  @current-change="handleCurrentChange"
                  :current-page="condition.pageNum"
                  :page-sizes="[6, 12, 18, 24]"
                  :page-size="condition.pageSize"
              >
              </el-pagination>
            </div>
          </el-col>
        </el-row>
      </el-row>
    </el-aside>
    <el-main style="background-color: rgb(255, 255, 255);">
      <h1>搜索文章</h1>
      <el-divider></el-divider>
      <el-row>
        <el-input placeholder="请输入内容" v-model="condition.keyWord">
          <i slot="suffix" class="el-input__icon el-icon-search" @click="searchByWord"></i>
        </el-input>
      </el-row>
      <el-row>
        <h1>热门标签</h1>
        <el-divider></el-divider>
      </el-row>
      <el-row>
        <el-button v-for="tag in tagList" @click="searchByTag(tag.tagId)" round size="medium" :type="getRandType()">
          {{ tag.tagName }}({{ tag.tagId }})
        </el-button>
      </el-row>
      <el-row>
        <h1>最新发布</h1>
        <el-divider></el-divider>
      </el-row>
      <el-row>
        <div v-for="(blogInfo,index) in blogInfoList" v-if="index < 3">
          <el-link v-if="index < 3" @click="checkBlog(blogInfo.blogId)">
            {{ blogInfo.blogTitle }}
            <svg t="1649680944477" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="2535" width="32" height="32">
              <path
                  d="M640.4 315.8c-0.9 1.2-0.9 3.1 0 4.2l89.8 122.6c0.9 1.2 0.4 2-1.1 1.8L578 428.1c-1.4-0.2-3.1 0.8-3.7 2.1L513 569.3c-0.6 1.3-1.5 1.3-2.1 0l-61.3-139.1c-0.6-1.3-2.2-2.3-3.7-2.1l-151.1 16.4c-1.4 0.2-1.9-0.7-1.1-1.8L383.6 320c0.9-1.2 0.9-3.1 0-4.2l-89.8-122.6c-0.9-1.2-0.4-2 1.1-1.8L446 207.8c1.4 0.2 3.1-0.8 3.7-2.1L511 66.6c0.6-1.3 1.5-1.3 2.1 0l61.3 139.1c0.6 1.3 2.2 2.3 3.7 2.1l151.1-16.4c1.4-0.2 1.9 0.7 1.1 1.8l-89.9 122.6z"
                  fill="#58D598" p-id="2536"></path>
              <path d="M512 586.1m-373.7 0a373.7 373.7 0 1 0 747.4 0 373.7 373.7 0 1 0-747.4 0Z" fill="#FF5C7A"
                    p-id="2537"></path>
              <path
                  d="M388.2 668.3c-12.2 23.4-38.3 60.1-43.2 67.3-6 6.8-13 7.6-20.1 4-6.3-5.4-6.4-9.6-1.3-17.4 13.1-15.3 28.4-40.8 40.5-63.3 3.6-8 9.4-10.7 17.4-8 7.2 3.6 9.4 9.4 6.7 17.4z m82.8-139h33.5c7.2 0.9 11.2 4.9 12.1 12.1 0 8-3.6 12.1-10.7 12.1h-63V603h61.7c8 0.9 12.5 5.4 13.4 13.4-0.9 7.2-5.8 10.7-14.7 10.7H443v101.8c4.5 29.5-15.6 38-60.3 25.5-8.9-2.7-13-7.6-12.1-14.7 2.7-8 8-11.2 16.1-9.4 25 8.9 35.7 6.2 32.2-8v-95.1h-79c-8 0-12.5-3.6-13.4-10.7 0.9-8 5.4-12.5 13.4-13.4h79v-49.6H341c-8.9 0-13.9-3.6-14.7-10.7 0.9-8 5.4-12.5 13.4-13.4h103.2c4.5-7.2 10.7-22.8 18.8-46.9 2.7-8 8-10.7 16.1-8 8.9 3.6 12.1 8.9 9.4 16.1-1.8 3.6-4.5 9.4-8 17.4-3.7 10.6-6.4 17.7-8.2 21.3z m22.8-59H343.7c-8 0-12.1-4-12.1-12.1 0-8 4-12.5 12.1-13.4H412c-2.7-5.4-5.4-10.7-8-16.1-5.4-8-4.5-14.7 2.7-20.1 8-3.6 14.7-1.3 20.1 6.7 6.2 14.3 11.6 24.1 16.1 29.5h50.9c7.2 0.9 11.2 5.4 12.1 13.4-1 8.1-5 12.1-12.1 12.1z m-97.9 12.1l9.4 18.8c0.9 2.7 2.2 4.9 4 6.7 2.7 8 0.9 14.3-5.4 18.8-7.2 2.7-12.5 0-16.1-8-5.4-9.8-9.8-18.3-13.4-25.5-3.6-6.2-2.2-12.1 4-17.4 7.2-2.8 13-0.6 17.5 6.6zM475 636.5c5.4 6.3 12.5 15.6 21.5 28.2 0.9 2.7 2.2 4.5 4 5.4 4.5 7.2 4 13.4-1.3 18.8-6.3 4.5-12.1 3.6-17.4-2.7-2.7-2.7-5.8-6.2-9.4-10.7-5.4-8-10.7-15.6-16.1-22.8-5.4-5.4-5.4-10.7 0-16.1 6.2-4.6 12.4-4.6 18.7-0.1z m96.5-158.2v41.6h113.9c25 0 24.2 29.5 1.3 29.5h-32.2v201c-0.9 8.9-5.4 13.9-13.4 14.7-8.9-0.9-13.4-5.8-13.4-14.7v-201h-56.3v71.1c-3.6 46.5-8.6 97.8-47 121.9-8 2.7-14.7 0.4-20.1-6.7-3.6-8-1.8-14.3 5.4-18.8 33.1-19.6 34-63.8 34.9-100.5V463.6c0-17 8.9-25.5 26.8-25.5 41.1-4.5 70.2-8.9 87.1-13.4 8.9-1.8 15.2 0.9 18.8 8 1.8 9.8-1.8 15.6-10.7 17.4-27.7 5.4-54.5 9.8-80.4 13.4-10.7 1-15.6 5.9-14.7 14.8z"
                  fill="#FDDE80" p-id="2538"></path>
              <path
                  d="M642 773.1c-14.8-1.3-22.3-9.6-22.3-22.7v-193h-40.2v63c-3.3 43.3-7.8 101.8-50.7 128.7-13.1 4.6-23.4 1.2-30.8-8.7-6.1-13.3-3-23.8 7.5-30.4 29.2-17.4 30.3-57.8 31.1-93.5V463.6c0-21.3 12.7-33.5 34.8-33.5 39.8-4.4 68.7-8.8 85.1-13.1 12.9-2.6 22.7 1.8 28 12.2l0.7 2.2c2.6 14.1-3.8 24.1-17 26.7-28 5.4-55.2 9.9-80.9 13.5-5.5 0.5-7 1.8-7.3 2.2-0.7 0.8-0.7 2.5-0.6 3.8v34.3h105.9c9.9 0 16 3.7 19.4 6.7 4.6 4.2 7.2 10.1 7.2 16.2 0 11-8.9 22.6-25.3 22.6h-24.2v193c-1.1 13.4-8.6 21.4-20.4 22.7z m-78.5-231.7h72.3v209c0 4.8 1.3 6.3 6.2 6.8 1.4-0.3 4-1.1 4.6-7.6V541.4h40.2c6.4 0 9.3-3.3 9.3-6.6 0-4.2-4.2-6.9-10.6-6.9h-122v-49.2c-0.5-6.1 0.9-11.2 4.3-15.2 3.8-4.6 9.8-7.2 17.9-7.9 25-3.5 51.9-8 79.6-13.3 3.3-0.6 5.3-1.4 4.5-6.9-1.3-2.3-3.5-4.1-9.5-2.8-16.9 4.5-45.8 8.9-87.8 13.5-14.4 0.1-19.7 5-19.7 17.5v152.8c-0.9 38.5-2.1 85.6-38.8 107.4-3.2 2-4.3 3.7-2.1 8.6 2.9 3.5 6.3 3.7 10.3 2.4 31.6-20.2 37.6-64 41.5-115l-0.2-78.4zM415.8 768c-9.8 0-21.6-1.9-35.5-5.8-18.1-5.4-18.5-18.2-17.9-23.5 4.3-13.5 13.9-18.9 25.8-16.2 16.3 5.8 21.9 5 23.2 4.7-0.1-0.3-0.2-1.3-0.6-3l-0.2-1.9v-87.1h-71c-12 0-20-6.6-21.4-17.8 1.3-13.6 8.7-21 20.5-22.3l71.9-0.1v-33.5H341c-18.5 0-22-12.4-22.7-17.8 1.3-13.6 8.7-21.1 20.5-22.3h41.5c-5-9.2-9.5-17.5-13-24.6-3.5-6.1-3.7-12.4-0.9-18.4h-22.6c-12.4 0-20.1-7.7-20.1-20.1 0-12.1 7.2-20 19.2-21.4h56.2l-2.3-4.5c-7.2-10.7-5.5-22.2 5.1-30.1 13.1-6.1 24.1-2.6 31.6 8.7 6.2 14.1 10.5 21.7 13.4 25.9h46.9c11.8 1.4 18.7 8.9 20 20.5-1.3 13.6-8.6 20.8-19.6 21 3 6.2 1.3 12.4 0.3 14.9-2.1 4.3-4.7 10-8.2 17.9-1.3 3.9-2.4 7.2-3.5 10.2h21.6c11.7 1.4 18.7 8.3 20 19.1 0.1 13.4-7.1 21.1-18.7 21.1h-55V595h53.7c12.6 1.3 20.1 8.8 21.4 20.5-0.7 7.2-4.2 19.6-22.7 19.6h-18.9c5 6.2 11.3 14.5 18.7 24.8l1.1 2.2 2 1 1.2 2.6c6.4 10.3 5.5 20.7-2.5 28.7-10.6 7.8-21.1 6.2-29.2-3.1-2.4-2.4-5.8-6.2-9.6-11-5.3-7.9-10.3-14.9-15.2-21.6v70.2c2.1 13.1-0.8 24-8.8 31-5.9 5.4-14.6 8.1-26.1 8.1z m-33.5-30.3c-1.8 0-3.1 1-4.2 4.5 0.2 0.1-0.2 2.5 6.8 4.5 31.7 8.9 42.9 4.5 46.7 1.2 3.6-3.2 4.7-9.2 3.4-17.8l-0.1-111.1h68.4c6.3 0 6.5-1.9 6.8-3.7-0.5-2.4-2-4-6.3-4.4l-68.8 0.1v-65.6h71c1.6 0 2.1-0.3 2.1-0.3s0.6-0.8 0.6-3.7c-0.4-2.5-1.5-3.7-5-4.1l-45.6 0.1 5.9-11.6c1.6-3.1 4.1-9.9 7.6-20.4 3.9-8.9 6.7-14.9 8.5-18.5 0.3-1 0.9-2.6-5.2-5-3.4-1.1-4.2-0.7-5.5 3.1-8.3 25-14.7 40.8-19.6 48.6l-2.4 3.8H339.6c-3.4 0.4-5 1.9-5.4 6.3 0.2 0 0.6 1.8 6.8 1.8h85.7V611h-87.1c-3.4 0.4-5 1.9-5.4 6.2 0.3 0.4 0.4 1.8 5.4 1.8h87.1v102.2c2.1 9.5-1.2 14.9-4.3 17.7-6.9 6.3-18.8 5.9-38.6-1.2h-1.5z m83.3-96.5c-1.5 0-3 0.6-4.7 1.9-1.2 1.4-1.2 1.7 1 3.9 6.2 8.1 11.6 15.8 17.1 24 2.9 3.7 5.8 7 8.4 9.5 3.6 4.1 4.8 3.5 7.1 1.9 0.9-1 2-2.7 0-6.6-1.9-1.5-3.8-3.7-5.2-7.2-8.1-11.3-14.7-20-19.7-25.9-1.4-1.1-2.7-1.5-4-1.5z m-62.8-162.9l0.2 0.5 9.4 18.8c0.9 2.6 1.6 3.7 2.5 4.6l2 3.2c1.9 5.8 2.1 11.2 0.6 16h20.6c3.1-6.2 8.2-18.3 15.9-41.4 0.2-0.5 0.4-1 0.5-1.5h-51.7z m-20.2 4.4c-3.1 3.1-2.1 4.8-1.2 6.4 3.7 7.5 8.2 15.9 13.5 25.6 2.2 4.8 3.6 5.2 5.2 4.7 2-1.7 3-3.7 2.1-7.6-2-2.3-3.5-5.1-4.5-8.2l-8.7-17.3c-2.5-3.7-4.3-4.1-6.4-3.6z m-38.9-29.8c-3.1 0.4-4 1.5-4 5.4 0 3.6 0.5 4 4 4h150.1c2.1 0 3.5 0 4.1-5-0.6-3.6-2.6-4.2-5.1-4.5l-53.7 0.1-2.4-2.9c-5-6-10.7-16.3-17.3-31.4-3.3-4.7-6.3-4-9.5-2.6-1.3 1.2-2.8 3 0.8 8.3l14.3 28.6h-81.3z m-10.9 296.8c-3.7 0-7.6-1-11.5-2.9l-1.6-1.1c-11.9-10.2-7.8-20.2-2.9-27.9 11.4-13.5 25.8-36 40.2-62.8 4.9-11.2 15.2-15.8 27-11.8 11.8 5.8 15.7 15.7 11.8 27.5l-0.5 1.2c-10.7 20.6-31.6 50.6-40.5 63.5l-3.2 4.7c-5.5 6.4-12 9.6-18.8 9.6z m-3.4-16.8c3.9 1.7 6.6 0.9 9.6-2.5l2.7-4c8.6-12.5 28.8-41.5 39.1-61.2 1.3-4.3 0.2-5.6-2.9-7.2-2.8-0.8-4.5-0.5-6.5 4.1-9 16.8-26.1 46.9-41.8 65.3-1.6 2.6-1.7 3.8-1.7 3.9 0.1 0 0.4 0.6 1.5 1.6z"
                  fill="#FDDE80" p-id="2539"></path>
            </svg>
          </el-link>
          <br>
        </div>

      </el-row>
      <el-row>
        <h1>点击最多</h1>
        <el-divider></el-divider>
      </el-row>
      <el-row>
        <div v-for="(blogInfo,index) in blogInfoList" v-if="index < 3">
          <el-link @click="checkBlog(blogInfo.blogId)">
            {{ blogInfo.blogTitle }}
            <svg t="1649680315955" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="3310" width="16" height="16">
              <path
                  d="M360.725 33c3.526 1.457 7.052 2.909 10.575 4.374 24.202 10.07 48.704 19.484 72.535 30.362 36.75 16.774 71.604 37.031 104.774 60.142 26.75 18.64 51.616 39.576 75.127 62.087 8.946 8.564 17.269 17.852 25.224 27.354 11.313 13.515 22.512 27.179 32.88 41.417 16.44 22.572 30.486 46.615 41.868 72.193 9.157 20.583 17.27 41.491 22.289 63.505 1.506 6.607 2.988 13.217 4.803 21.235 22.57-30.853 27.756-66.112 34.339-102.473 12.856 20.155 25.33 38.876 36.948 58.113 19.011 31.48 37.17 63.487 51.968 97.194 10.17 23.167 20.189 46.494 28.429 70.384 7.825 22.688 14.158 45.995 19.464 69.411 4.837 21.353 8.16 43.128 8.012 65.212-0.008 1.095 0.677 2.192 1.04 3.287v28.275c-0.367 5.083-0.316 10.237-1.177 15.235-3.069 17.82-5.747 35.75-9.874 53.332-6.161 26.25-17.03 50.81-31.715 73.345-9.397 14.419-20.491 27.767-31.257 41.251-12.39 15.518-27.201 28.644-43.358 40.07-14.476 10.239-29.266 20.104-44.455 29.242-21.161 12.732-43.663 22.72-68 30.057 0.362-1.721 0.494-3.108 0.943-4.385 0.256-0.727-0.038-1.391-0.884-1.995 3.78-2.514 7.52-5.092 11.223-7.714 9.023-6.387 17.294-13.725 24.214-22.4 6.013-7.538 12.209-15.001 17.456-23.061 8.202-12.599 14.272-26.329 17.712-41.003 2.305-9.83 3.801-19.853 5.514-29.815 0.482-2.794 0.453-5.675 0.658-8.517v-15.806c-0.203-0.613-0.585-1.226-0.58-1.838 0.082-12.346-1.774-24.519-4.475-36.456-2.963-13.09-6.5-26.12-10.87-38.804-4.602-13.355-10.197-26.396-15.877-39.347-8.265-18.843-18.406-36.737-29.023-54.335-6.488-10.754-13.455-21.22-20.634-32.488-3.677 20.327-6.573 40.039-19.178 57.287-1.013-4.483-1.841-8.178-2.682-11.872-2.804-12.306-7.334-23.994-12.448-35.501-6.357-14.3-14.2-27.74-23.381-40.359-5.791-7.96-12.046-15.598-18.364-23.153-4.442-5.313-9.09-10.505-14.086-15.293-13.13-12.584-27.017-24.288-41.957-34.708-18.524-12.92-37.99-24.245-58.513-33.622-13.31-6.081-26.993-11.345-40.51-16.974-1.966-0.819-3.936-1.63-5.905-2.445h-1.823c2.422 5.634 5.001 11.206 7.237 16.915 5.352 13.666 9.691 27.673 12.132 42.149 1.853 10.98 3.211 22.066 4.24 33.156 0.716 7.715 1.045 15.546 0.599 23.27-1.31 22.64-5.744 44.64-14.715 65.61-7.112 16.63-16.064 32.158-27.791 45.931-7.035 8.261-14.661 16.02-22.068 23.96-0.871 0.934-2.038 1.592-3.418 2.645-9.25-20.868-19.72-40.931-33.244-60.231-0.746 3.928-1.463 7.05-1.916 10.21-1.707 11.923-5.19 23.362-9.133 34.7-5.79 16.647-13.894 32.063-24.987 45.738-4.47 5.51-10.332 9.877-14.917 15.309-3.614 4.28-6.848 9.116-9.181 14.197-4.825 10.504-7.04 21.814-8.917 33.158l-0.338 2.063c-0.528 3.25-0.448 6.599-0.698 9.898-0.033 0.422-0.378 0.821-0.579 1.231v24.319c0.404 2.901 0.709 5.82 1.23 8.7 1.621 8.97 2.588 18.146 5.19 26.827 2.969 9.909 6.878 19.636 11.374 28.962 5.008 10.388 11.799 19.73 19.437 28.488 12.581 14.425 27.58 25.594 44.386 34.512a198.767 198.767 0 0 0 6.817 3.451c-9.097 0.587-18.404 1.198-27.916 1.832-0.197-0.284-0.353-0.777-0.596-0.823-11.847-2.27-23.729-4.365-35.549-6.763-33.377-6.77-65.133-18.109-95.23-34.062-30.092-15.952-56.95-35.931-79.477-61.735-13.677-15.665-25.836-32.376-34.804-50.96-8.05-16.682-15.05-34.08-20.366-51.805-4.659-15.53-6.391-31.942-9.295-47.987-0.932-5.152-1.478-10.374-2.201-15.564v-43.5c0.36-0.734 0.978-1.448 1.036-2.204 0.449-5.901 0.305-11.89 1.25-17.705 3.502-21.524 7.41-43.074 16.572-63.002 4.178-9.089 9.969-17.74 16.44-25.396 8.21-9.716 18.708-17.527 26.71-27.384 19.863-24.463 34.374-52.038 44.742-81.817 7.06-20.28 13.297-40.742 16.354-62.07 0.81-5.652 2.095-11.237 3.43-18.264 24.216 34.524 42.964 70.413 59.527 107.742 2.47-1.884 4.56-3.06 6.12-4.732 13.263-14.204 26.918-28.082 39.515-42.86 20.998-24.637 37.028-52.413 49.763-82.159 16.064-37.512 24.004-76.865 26.348-117.362 0.8-13.818 0.21-27.827-1.07-41.626-1.844-19.838-4.276-39.669-7.593-59.31-4.371-25.893-12.142-50.95-21.725-75.394-4.003-10.213-8.62-20.18-12.959-30.258h3.265z"
                  fill="#E50404" p-id="3311"></path>
            </svg>
          </el-link>
          <br>
        </div>
      </el-row>
    </el-main>
  </el-container>
</template>

<script>
import {getBlogTagList} from "../../api/blogmanager/blogTag";
import {pageBlog} from "../../api/blogmanager/blog";
import qs from "qs";
import {pageBlogView} from "../../api/front/blogView";

export default {
  name: 'Index',
  props: {
    msg: String
  },
  data() {
    return {
      drawer: false,
      direction: 'ltr',
      loading: false,
      imgCarousel: {
        image1: this.$store.state.userUrl
      },
      imageUrl: this.$store.state.userUrl,
      tagList: [],
      condition: {
        pageNum: 0,
        pageSize: 6,
        tagId: '',
        keyWord: '',
        categoryName: this.$route.query.blogCategoryName
      },
      totalSize: 0,
      blogInfoList: [],
      index: 0,
      typeList: ['primary', 'success', 'warning', 'danger', 'info', 'text']
    };
  },
  created() {
    this.openFullScreen2();
    this.getTagList();
    this.handleCurrentChange(1);
    this.getMaxClick();
  },
  methods: {
    getRandType() {
      return this.typeList[Math.floor((Math.random() * 6))];
    },
    getMaxClick() {
      let blogInfoList = this.blogInfoList;
      let blogViews = 0;
      if (blogInfoList != null) {
        for (let i = 0; i < blogInfoList; i++) {
          let blogInfo = blogInfoList[i];
          if (blogInfo.blogViews > blogViews) {
            blogViews = blogInfo.blogViews;
            this.index = i;
          }
        }
      }
    },
    checkBlog(blogId) {
      this.$router.push(
          {
            path: '/blogDetail',
            query: {
              blogId: blogId
            }
          })

    },
    searchByCategory(categoryName) {
      this.condition.categoryName = categoryName;
      this.handleCurrentChange(1);
    },
    searchByWord() {
      this.handleCurrentChange(1);
      this.condition.keyWord = "";
    },
    searchByTag(id) {
      this.condition.tagId = id;
      this.handleCurrentChange(1);
      this.condition.tagId = "";
    },
    handleSizeChange(val) {
      const _this = this;
      this.condition.pageSize = val;
      pageBlogView(qs.stringify(this.condition)).then(res => {
        _this.loading = false;
        this.totalSize = res.totalSize;
        this.blogInfoList = res.data;
      })
    },
    handleCurrentChange(val) {
      const _this = this;
      this.condition.pageNum = val;
      this.openFullScreen2();
      pageBlogView(qs.stringify(this.condition)).then(res => {
        _this.loading = false;
        this.totalSize = res.totalSize;
        this.blogInfoList = res.data;
      })
    },
    getTagList() {
      const _this = this;
      getBlogTagList().then(res => {
        _this.tagList = res;
      })
    },
    openFullScreen2() {
      const loading = this.$loading({
        lock: true,
        text: '正在拼命加载中',
        spinner: 'el-icon-loading',
        background: 'rgba(0, 0, 0, 0.7)'
      });
      setTimeout(() => {
        loading.close();
      }, 500);
    }
  }
}

</script>
<style>
.el-container .el-main .el-row .el-button {
  margin-left: 5px;
  margin-top: 5px;
}

.headCss {
  height: 100px;
}

.footCss {

  background-color: #273547;
  color: #fff !important
}

.el-carousel__item h3 {
  color: #475669;
  font-size: 14px;
  opacity: 0.75;
  line-height: 200px;
  margin: 0;
}

.el-container .el-header {
  padding: 0;
}

.el-container:nth-child(5) .el-main {
  padding: 0;
}

.el-container:nth-child(6) .el-footer {
  padding: 0;
}

.blog-text-center {
  text-align: center;
  font-size: 14px;
}

</style>
